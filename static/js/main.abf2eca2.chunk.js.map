{"version":3,"sources":["App.js","index.js"],"names":["Algorithm","props","updateValue","event","setAlgorithm","target","value","algorithm","label","handleChange","title","AlgorithmRadioButton","type","id","name","defaultChecked","onChange","htmlFor","Button","className","onClick","handleClick","InputTextArea","rows","cols","defaultValue","Team","players","join","App","useState","rankings","teamRed","teamWhite","data","setData","readData","document","getElementById","split","filter","el","console","log","newData","forEach","player","found","ranking","startsWith","push","fixRankings","sort","a","b","aRanking","bRanking","i","length","sortPlayers","Math","random","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.abf2eca2.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport './App.css';\n\nconst algorithmDefaultValue = 'classic'\nconst playersDefaultValue = `player1\\nplayer2\\nplayer3\\nplayer4\\nplayerX`\nconst rankingsDefaultValue = `player1:80\\nplayer2:60\\nplayer3:40\\nplayer4:20`\n\nconst App = (props) => {\n  const [data, setData] = useState({\n    algorithm: algorithmDefaultValue,\n    players: playersDefaultValue,\n    rankings: rankingsDefaultValue,\n    teamRed: [],\n    teamWhite: []\n  })\n\n  const fixRankings = (players, rankings) => {\n    players.forEach(player => {\n      let found = false\n      rankings.forEach(ranking => {\n        if (ranking.startsWith(player + \":\")) {\n          found = true\n        }\n      })\n      if (!found) {\n        console.log(\"not found\", player)\n        rankings.push(`${player}:50`)\n      }\n    })\n    document.getElementById('rankings-input').value = rankings.join(`\\n`)\n  }\n\n  const readData = (id) => {\n    return document.getElementById(id).value\n      .split('\\n')\n      .filter(\n        function (el) { return el; } // remove falsy values\n      )\n  }\n\n  const setAlgorithm = (algorithm) => {\n    console.log(\"algorithm\", algorithm)\n    const newData = {\n      ...data,\n      algorithm: algorithm\n    }\n    setData(newData)\n  }\n\n  const sortPlayers = (players, rankings) => {\n    players.sort(function (a, b) {\n      let aRanking = 50\n      let bRanking = 50\n      for (let i = 0; i < rankings.length; i++) {\n        let ranking = rankings[i].split(':')\n        if (ranking.length === 2) {\n          if (ranking[0] === a) {\n            aRanking = ranking[1]\n          }\n          if (ranking[0] === b) {\n            bRanking = ranking[1]\n          }\n        }\n      }\n      return bRanking - aRanking\n    });\n    console.log(\"players (sorted)\", players)\n  }\n\n  const updateData = () => {\n    const algorithm = data.algorithm\n    const players = readData('players-input')\n    const rankings = readData('rankings-input')\n    const teamRed = []\n    const teamWhite = []\n\n    fixRankings(players, rankings)\n    sortPlayers(players, rankings)\n\n    if (algorithm === 'fair' && players.length > 1) {\n      // swap position of top two players before making team rosters to equalize rosters a bit\n      [players[0], players[1]] = [players[1], players[0]]\n    } else if (algorithm === 'random') {\n      players.sort(function (a, b) { return 0.5 - Math.random() });\n    }\n\n    for (let i = 0; i < players.length; i = i + 2) {\n      teamRed.push(players[i])\n    }\n\n    for (let i = 1; i < players.length; i = i + 2) {\n      teamWhite.push(players[i])\n    }\n\n    teamRed.sort()\n    teamWhite.sort()\n\n    const newData = {\n      ...data,\n      algorithm: algorithm,\n      teamRed: teamRed,\n      teamWhite: teamWhite\n    }\n    setData(newData)\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <p>Rosters</p>\n      </header>\n      <div className=\"App-content\">\n        <Team id=\"reds\" name=\"Red\" players={data.teamRed} />\n        <Team id=\"whites\" name=\"White\" players={data.teamWhite} />\n        <div className=\"row\">\n          <div id=\"players-column\" className=\"column\">\n            <InputTextArea\n              id=\"players\"\n              label=\"Players\"\n              defaultValue={data.players} />\n          </div>\n          <div id=\"rankings-column\" className=\"column\">\n            <InputTextArea\n              id=\"rankings\"\n              label=\"Rankings\"\n              defaultValue={data.rankings} />\n          </div>\n        </div>\n        <div className=\"row\">\n          <Algorithm setAlgorithm={setAlgorithm} />\n          <div id=\"action-column\" className=\"column flex-end\">\n            <Button handleClick={updateData} label='Run' />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst Algorithm = (props) => {\n\n  const updateValue = (event) => {\n    props.setAlgorithm(event.target.value)\n  }\n\n  return (\n    <div>\n      <div>Algorithm</div>\n      <AlgorithmRadioButton algorithm=\"classic\" label=\"Classic\" handleChange={updateValue}\n        title='The teams take turns picking players.\n        Red team has odd picks: 1st, 3rd, 5th, ...\n        White teams has even picks: 2nd, 4th, ...' />\n      <br />\n      <AlgorithmRadioButton algorithm=\"fair\" label=\"Fair\" handleChange={updateValue}\n        title='Like the classic algorithm, but top two picks are reversed.\n        White team now has the 1st &amp; 4th pick.\n        Red team has the 2nd &amp; 3rd pick.' />\n      <br />\n      <AlgorithmRadioButton algorithm=\"random\" label=\"Random\" handleChange={updateValue}\n        title=\"Random rosters for each run.\" />\n    </div>\n  )\n}\n\nconst AlgorithmRadioButton = (props) => {\n  return (\n    <span title={props.title}>\n      <input\n        type=\"radio\"\n        id={props.algorithm}\n        name=\"algorithm\"\n        defaultChecked={props.algorithm === algorithmDefaultValue}\n        onChange={props.handleChange}\n        value={props.algorithm} />\n      <label htmlFor={props.algorithm}>{props.label}</label>\n    </span>\n  )\n}\n\nconst Button = (props) => {\n  return (\n    <button className=\"button float-right\" onClick={props.handleClick}>\n      {props.label}\n    </button>\n  )\n}\n\nconst InputTextArea = (props) => {\n  return (\n    <div id={props.id}>\n      <div>{props.label}</div>\n      <textarea\n        id={`${props.id}-input`}\n        className=\"resize-none\"\n        rows=\"20\"\n        cols=\"16\"\n        defaultValue={props.defaultValue} />\n    </div>\n  )\n}\n\nconst Team = (props) => {\n  return (\n    <div id=\"{props.id}\">\n      <div className=\"team-name\">Team {props.name}</div>\n      <div className=\"players-list\">{props.players.join(', ')}</div>\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}